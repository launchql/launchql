language: node_js
notifications:
  email: false
cache:
  yarn: true
  directories:
    - node_modules
node_js:
  - "10"
  - "12"
env:
  matrix:
    - PACKAGE=packages/content-type-stream
    - PACKAGE=packages/s3-streamer
    - PACKAGE=packages/s3-utils
    - PACKAGE=packages/stream-to-s3
    - PACKAGE=packages/upload-names
script:
  - yarn
  - yarn bootstrap
  - yarn build
  - cd $PACKAGE
  - yarn test
